(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t){e.exports=function(e,t,a){var c=new Date(e,t-1,a,0,0,0,0),n=new Date(c.valueOf()+864e5);return[n.getFullYear(),n.getMonth()+1,n.getDate()]}},125:function(e,t,a){},126:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a(0),r=a.n(n),s=a(25),i=a.n(s),o=(a(125),a(16)),u=(a(126),function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0];t[1];return a?Object(c.jsx)("div",{className:"spinner",children:Object(c.jsx)("img",{src:"https://avatars0.githubusercontent.com/u/12551446",className:"loader",alt:"Loading"})}):Object(c.jsxs)("div",{className:"Profil__full",children:[Object(c.jsx)("div",{className:"Profil__title",children:"Profil"}),Object(c.jsxs)("div",{className:"Profil__main",children:[Object(c.jsx)("div",{children:"Here comes the stuff"}),Object(c.jsx)("div",{children:"Add activity"}),Object(c.jsx)("div",{children:"Manage Goal"}),Object(c.jsx)("div",{children:"Make optional/mandatory"})]})]})}),l=a(14),d=a.n(l),b=a(21),j=a(35),v=a.n(j),f=function(){var e=Object(b.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://routine-cvs.herokuapp.com/"+"dailies/".concat(t),method:"GET"});case 2:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,a.data;case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://routine-cvs.herokuapp.com/activity",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,t.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=(a(144),a.p+"static/media/teeth.1aa6b881.svg"),h=a.p+"static/media/guitar.c3922c9c.svg",O=a.p+"static/media/producing.a9835c6a.svg",g=a.p+"static/media/trumpet.a799638f.svg",x=a.p+"static/media/piano.fa43c86a.svg",y=a.p+"static/media/bass.35a36137.svg",w=a.p+"static/media/dutch.0d45338e.svg",k=a.p+"static/media/javascript.79934a25.svg",_=a.p+"static/media/situps.260199dc.svg",E=a.p+"static/media/pushups.82e7b7a9.svg",N=a.p+"static/media/pullups.2353a6a1.svg",F=a.p+"static/media/code.2aff3c3a.svg",S=a.p+"static/media/run.eee4c3df.svg",C=a.p+"static/media/stretch.22bae108.svg",B=a.p+"static/media/photo.8d6ce4c2.svg",P=a.p+"static/media/water.a1b4f75b.svg",M=a.p+"static/media/climb.936e7285.svg",D=a.p+"static/media/bye.babac325.svg",I=a.p+"static/media/clean.8fa6a8de.svg",T=a.p+"static/media/french.37bd6f8d.svg",L=a.p+"static/media/meditation.0eabc1a0.svg",Y=a.p+"static/media/friends.fd9f2f12.svg",R=a.p+"static/media/steps.fadb4e3f.svg",A=a.p+"static/media/yoga.fb727927.svg",H=function(e){var t="";switch(e.activity.activity){case"teeth":t=m;break;case"guitar":t=h;break;case"bass":t=y;break;case"trumpet":t=g;break;case"piano":t=x;break;case"dutch":t=w;break;case"javascript":t=k;break;case"producing":t=O;break;case"situps":t=_;break;case"pushups":t=E;break;case"pullups":t=N;break;case"code":t=F;break;case"run":t=S;break;case"stretch":t=C;break;case"photo":t=B;break;case"water":t=P;break;case"climb":t=M;break;case"sort":t=D;break;case"clean":t=I;break;case"french":t=T;break;case"meditation":t=L;break;case"friends":t=Y;break;case"steps":t=R;break;case"yoga":t=A;break;default:t=null}return Object(c.jsx)("div",{children:Object(c.jsx)("img",{className:"logo",src:t,alt:e.activity.activity})})},G=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a,c,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,a=t.getFullYear(),c=t.getMonth()+1,n=t.getDate(),e.next=6,v()({url:"https://routine-cvs.herokuapp.com/"+"streak/".concat(a,"/").concat(c,"/").concat(n),method:"GET"});case 6:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=9;break}throw new Error("Error!");case 9:return e.next=11,r.data[0];case 11:return s=e.sent,e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=(a(145),function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(!0),u=Object(o.a)(i,2),l=u[0],j=u[1],v=e.activity.activity,f=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:t=e.sent,s(t),j(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f()}),[]);var p;return l?Object(c.jsx)("div",{className:"Streak__Main",children:"?"}):r[v]?Object(c.jsx)("div",{className:"Streak__Main",style:{backgroundColor:"rgba(214, 137, 16, ".concat((p=r[v],p<2?.1:p<3?.2:p<5?.3:p<8?.4:p<12?.5:p<20?.55:p<30?.6:p<40?.65:p<50?.7:p<60?.75:p<70?.8:p<80?.85:p<99?.9:1),")")},children:r[v]>999?"999+":r[v]}):Object(c.jsx)(c.Fragment,{})}),J=a(225),U=a(226),q=a(227),K=a(117),Q=a(228),V=a(112),W=a(114),X=a(100),Z=function(){var e=Object(b.a)(d.a.mark((function e(t,a,c){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(X.a)({},a,c),e.prev=1,e.next=4,v()({url:"https://routine-cvs.herokuapp.com/"+"daily/".concat(t),method:"PATCH",data:n});case 4:if(200===(r=e.sent).status||201===r.status){e.next=7;break}throw new Error("Error!");case 7:return e.abrupt("return",{status:r.status,message:r.error});case 10:return e.prev=10,e.t0=e.catch(1),console.log(e.t0.message),e.abrupt("return",{status:500,message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,c){return e.apply(this,arguments)}}(),$=(a(146),function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(!1),u=Object(o.a)(i,2),l=u[0],j=u[1],v=Object(n.useState)(e.dailies[e.activity.activity]?e.dailies[e.activity.activity]:0),f=Object(o.a)(v,2),p=f[0],m=f[1],h=e.dailies.id,O=e.activity.activity,g=e.activity.increment,x=e.activity.goal,y=p>=x&&(!!x||p>x),w=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),j(!1),t=p+g,e.next=5,Z(h,O,t);case 5:200===(a=e.sent).status?(m(t),s(!1)):(V.a.error({message:a.message}),j(!0));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),j(!1),t=p>=g?p-g:0,e.next=5,Z(h,O,t);case 5:200===(a=e.sent).status?(m(t),s(!1)):(V.a.error({message:a.message}),j(!0));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(W.a,{placement:"top",title:Object(c.jsxs)(c.Fragment,{children:[e.activity.name," ",Object(c.jsx)(z,{activity:e.activity})]}),children:Object(c.jsxs)("div",{className:"daily__item",children:[!x&&!y&&Object(c.jsx)("div",{className:"daily__optional"}),y&&Object(c.jsx)("div",{className:"daily__doneContainer",children:Object(c.jsx)("div",{className:"daily__done",children:Object(c.jsx)(J.a,{})})}),Object(c.jsx)("div",{className:"daily__actionContainer ".concat(0===x||e.disabled?"":"daily__actionContainerHover"),onMouseOver:function(){e.disabled||(x>1?(document.getElementById(O+"_minus").style.display="block",document.getElementById(O+"_plus").style.display="block"):document.getElementById(O+"_check").style.display="block")},onMouseLeave:function(){e.disabled||(x>1?(document.getElementById(O+"_minus").style.display="none",document.getElementById(O+"_plus").style.display="none"):document.getElementById(O+"_check").style.display="none")},children:x>1?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"daily__action",id:O+"_minus",onClick:k,children:Object(c.jsx)(U.a,{})}),Object(c.jsx)("div",{className:"daily__action",id:O+"_plus",onClick:w,children:Object(c.jsx)(q.a,{})})]})}):y?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"daily__action",id:O+"_check",onClick:k,children:Object(c.jsx)(K.a,{})})}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"daily__action",id:O+"_check",onClick:w,children:Object(c.jsx)(J.a,{})})})}),Object(c.jsx)(H,{activity:e.activity}),Object(c.jsxs)("div",{className:"daily__text }",children:[l?Object(c.jsx)(K.a,{style:{color:"#C70039"}}):r?Object(c.jsxs)(c.Fragment,{children:[x>1?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Q.a,{spin:!0,style:{color:"#999"}})," / ",x," "]}):Object(c.jsx)(Q.a,{spin:!0,style:{color:"#999"}}),x>1&&e.activity.unit]}):Object(c.jsxs)(c.Fragment,{children:[x>1?"".concat(p," / ").concat(x," "):"".concat(e.activity.unit,"!"),x>1&&e.activity.unit]}),0===x&&Object(c.jsx)("div",{style:{fontStyle:"italic",fontSize:".7em"},children:Object(c.jsx)("i",{children:"optional"})})]})]})})}),ee=a(108),te=a.n(ee),ae=(a(148),new Date),ce=ae.getFullYear(),ne=ae.getMonth()+1,re=ae.getDate(),se=function(e){var t=parseInt(e,10),a=Math.floor(t/3600),c=Math.floor((t-3600*a)/60),n=t-3600*a-60*c;return a<10&&(a="0"+a),c<10&&(c="0"+c),n<10&&(n="0"+n),a+":"+c+":"+n},ie=function(){var e=Math.floor(Date.now()/1e3),t=te()(ce,ne,re);return Math.floor(new Date(Date.UTC(t[0],t[1]-1,t[2],"00","00","00"))/1e3)-e-3600},oe=function(){var e=Object(n.useState)(ie()),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){setTimeout((function(){r(ie())}),1e3)}),[a]),Object(c.jsx)("div",{className:a<3600&&"countdown__alert",children:se(a)})},ue=(a(149),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),u=i[0],l=i[1],j=Object(n.useState)(!0),v=Object(o.a)(j,2),m=v[0],h=v[1],O=Object(n.useRef)(2),g=Object(n.useRef)(0),x=Object(n.useRef)(null),y=Object(n.useRef)(!1),w=function(){var e=Object(b.a)(d.a.mark((function e(t){var a,c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([f(t+1),p()]);case 3:a=e.sent,c=Object(o.a)(a,2),n=c[0],s=c[1],r(n),l(s),t+1>n.length&&(y.current=!0,x.current=g.current+1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message),V.a.error({message:e.t0.message});case 16:h(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){w(O.current)}),[]);var k=!1;Object(n.useEffect)((function(){var e=function(e){e.preventDefault();var t=e.key.toLowerCase();if(!1===k){if(k=!0,"arrowdown"===t){if(x.current!==g.current-1){var a=g.current+1,c=document.getElementById("daily".concat(a)).getBoundingClientRect().top+window.scrollY;window.scrollTo({top:c,behavior:"smooth"})}if(!y.current){O.current++;var n=O.current;w(n)}}else if("arrowup"===t){if(g.current>0){var r=g.current-1,s=document.getElementById("daily".concat(r)).getBoundingClientRect().top+window.scrollY;window.scrollTo({top:s,behavior:"smooth"})}}else if("enter"===t){g.current=0;var i=document.getElementById("daily0").getBoundingClientRect().top+window.scrollY;window.scrollTo({top:i,behavior:"smooth"})}setTimeout((function(){k=!1}),500)}},t=function(e){g.current=Math.round(window.scrollY/window.innerHeight),y.current||O.current===g.current+1&&(O.current=g.current+2,w(g.current+2))};return document.addEventListener("keydown",e),document.addEventListener("scroll",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("scroll",t)}}),[]);for(var _=function(e){return u.map((function(t){return Object(c.jsx)($,{activity:t,dailies:a[e],disabled:!!e},t.activity)}))},E=[],N=0;N<O.current;N++)E.push(Object(c.jsxs)("div",{className:"Dailies__full",id:"daily".concat(N),children:[Object(c.jsx)("div",{className:"dailies__date",children:a.length>0?Object(c.jsxs)("div",{children:[0===N&&Object(c.jsx)(oe,{}),1===N&&"Yesterday",N>1&&"".concat(a[N].day,".").concat(a[N].month,".").concat(a[N].year)]}):""}),Object(c.jsx)("div",{className:"dailies__main",children:_(N)})]},N));return m?Object(c.jsx)("div",{className:"spinner",children:Object(c.jsx)("img",{src:"https://avatars0.githubusercontent.com/u/12551446",className:"loader",alt:"Loading"})}):Object(c.jsx)(c.Fragment,{children:E})}),le=a(229),de=function(e){var t=e.condition,a=e.wrap,c=e.children;return t?a(c):c},be=(a(150),function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),r=a[0];a[1];return Object(c.jsx)(de,{condition:!e.showProfil,wrap:function(e){return Object(c.jsx)(W.a,{title:"Edit profil",children:e})},children:e.showProfil?Object(c.jsx)("div",{className:"FloatButton__float",onClick:function(){return e.setShowProfil(!1)},children:Object(c.jsx)(K.a,{className:"FloatButton__close"})}):r?Object(c.jsx)("div",{className:"FloatButton__float",style:{backgroundImage:"url(https://avatars0.githubusercontent.com/u/12551446)",backgroundSize:"cover"},onClick:function(){return e.setShowProfil(!0)}}):Object(c.jsx)("div",{className:"FloatButton__float FloatButton__background",onClick:function(){return e.setShowProfil(!0)},children:Object(c.jsx)(le.a,{className:"FloatButton__icon"})})})}),je=(a(222),a(223),a(224),a(113),a.p,a(230),a(231),a(118),a(119),a(151),a(219),function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))});window.addEventListener("resize",je);var ve=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){je()}),[]),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("header",{className:"App__header",children:[Object(c.jsx)(be,{showProfil:a,setShowProfil:r}),Object(c.jsx)("div",{className:"App__day",children:a?Object(c.jsx)(u,{}):Object(c.jsx)(ue,{})})]})})},fe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,232)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(ve,{})}),document.getElementById("root")),fe()}},[[220,1,2]]]);
//# sourceMappingURL=main.64fae3eb.chunk.js.map