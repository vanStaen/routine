(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{256:function(e,t){e.exports=function(e,t,n){var a=new Date(e,t-1,n,0,0,0,0),r=new Date(a.valueOf()-864e5);return[r.getFullYear(),r.getMonth()+1,r.getDate()]}},262:function(e,t){e.exports=function(e,t,n){var a=new Date(e,t-1,n,0,0,0,0),r=new Date(a.valueOf()+864e5);return[r.getFullYear(),r.getMonth()+1,r.getDate()]}},280:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){},300:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},310:function(e,t){},312:function(e,t){},326:function(e,t){},328:function(e,t){},356:function(e,t){},358:function(e,t){},359:function(e,t){},364:function(e,t){},366:function(e,t){},385:function(e,t){},397:function(e,t){},400:function(e,t){},417:function(e,t,n){},523:function(e,t,n){},524:function(e,t,n){},525:function(e,t,n){},526:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),s=n(33),i=n.n(s),o=(n(280),n(39)),l=n(9),u=n.n(l),d=n(19),j=n(20),b=n(30),m=n.n(b),f=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://routine-cvs.herokuapp.com"+"/dailies/".concat(t),method:"GET"});case 2:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=9;break}if(401!==n.status){e.next=8;break}throw new Error("Error! Unauthorized (401)");case 8:throw new Error("Error! Status ".concat(n.status));case 9:return e.next=11,n.data;case 11:return a=e.sent,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://routine-cvs.herokuapp.com/activity",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized (401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.next=11,t.data;case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=(n(298),function(e){var t=!!e.invert,n=!!e.big;return Object(a.jsx)("div",{children:Object(a.jsx)("img",{className:"".concat(n?"logo__big":"logo"," ").concat(t&&"invert"),src:"https://routine-cvs.herokuapp.com"+"/images/".concat(e.image,".svg"),alt:e.image})})}),p=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://routine-cvs.herokuapp.com"+"/streak/".concat(t,"/").concat(n,"/").concat(a),method:"GET"});case 2:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,r.data[0];case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),v=n(10),x=n(7),g=new function e(){var t=this;Object(v.a)(this,e),this.today=null,this.dailyStreaks=null,this.setToday=function(e){t.today=e},this.setDailyStreaks=function(e){t.dailyStreaks=e},Object(x.m)(this,{today:x.n,setToday:x.f,dailyStreaks:x.n,setDailyStreaks:x.f})},w=n(256),y=n.n(w),_=(n(299),(new Date).getDate()),k=Object(o.a)((function(e){var t,n=Object(r.useState)(g.dailyStreaks),c=Object(j.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(),l=Object(j.a)(o,2),b=l[0],m=l[1],f=Object(r.useState)(!0),h=Object(j.a)(f,2),O=h[0],v=h[1],x=e.activity.name;t=void 0===e.float||e.float;var w=Object(r.useCallback)(Object(d.a)(u.a.mark((function t(){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.daily.day!==g.today){t.next=5;break}i(g.dailyStreaks),t.next=10;break;case 5:return t.next=7,p(e.daily.year,e.daily.month,e.daily.day);case 7:n=t.sent,null===s&&_===e.daily.day&&(g.setToday(_),g.setDailyStreaks(n)),i(n);case 10:return a=y()(e.daily.year,e.daily.month,e.daily.day),t.next=13,p(a[0],a[1],a[2]);case 13:r=t.sent,m(r),v(!1),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log(t.t0.message);case 21:case"end":return t.stop()}}),t,null,[[0,18]])}))),[e.daily.year,e.daily.month,e.daily.day,s]);Object(r.useEffect)((function(){w()}),[w]);var k=function(e){return e<2?.1:e<3?.2:e<5?.3:e<8?.4:e<12?.5:e<20?.55:e<30?.6:e<40?.65:e<50?.7:e<60?.75:e<70?.8:e<80?.85:e<99?.9:1};return O?Object(a.jsx)("div",{className:"Streak__Float",children:"?"}):s[x]?Object(a.jsx)("div",{className:t?"Streak__Float":"Streak__Round",style:{backgroundColor:(console.log(s[x]),console.log(b[x]),s[x]===b[x]?"rgba(3, 119, 156, ".concat(k(s[x]),")"):"rgba(214, 137, 16, ".concat(k(s[x]),")"))},children:s[x]>999?"999+":s[x]}):Object(a.jsx)(a.Fragment,{})})),A=n(536),N=n(537),E=n(538),D=n(539),T=n(131),S=n(269),B=n(533),C=n(128),I=n(535),U=n(32),P=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(U.a)({},n,a),e.prev=1,e.next=4,m()({url:"https://routine-cvs.herokuapp.com"+"/dailies/".concat(t),method:"PATCH",data:r});case 4:if(200===(c=e.sent).status||201===c.status){e.next=7;break}throw new Error("Error!");case 7:return e.abrupt("return",{status:c.status,message:c.error});case 10:return e.prev=10,e.t0=e.catch(1),console.log(e.t0.message),e.abrupt("return",{status:500,message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({url:"https://routine-cvs.herokuapp.com"+"/streak/".concat(t),method:"PATCH"});case 3:if(200===(n=e.sent).status||201===n.status){e.next=6;break}throw new Error("Error!");case 6:return e.abrupt("return",{status:n.status,message:n.error});case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",{status:500,message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();function z(e){return void 0===e||null===e?null:e.charAt(0).toUpperCase()+e.slice(1)}var R=function(e){var t=e.condition,n=e.wrap,a=e.children;return t?n(a):a},Q=n.p+"static/media/snowflake.40498736.png",L=(n(300),function(e){var t=Object(r.useState)(!1),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(!1),o=Object(j.a)(i,2),l=o[0],b=o[1],m=Object(r.useState)(!1),f=Object(j.a)(m,2),h=f[0],p=f[1],v=Object(r.useState)(window.innerWidth<900),x=Object(j.a)(v,2),g=x[0],w=x[1],y=Object(r.useState)(e.dailies[e.activity.name]?e.dailies[e.activity.name]:0),_=Object(j.a)(y,2),U=_[0],Q=_[1],L=e.dayFromToday,V=e.dailies.id,Y=e.activity.name,M=e.activity.increment,G=e.activity.goal,H=e.activity.optional;Object(r.useEffect)((function(){return q(),window.addEventListener("resize",q),function(){window.removeEventListener("resize",q)}}),[]);var q=function(){w(window.innerWidth<900)},J=U>=G&&(!!G||U>G),Z=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],s(!0),b(!1),n=U+M,e.next=6,P(V,Y,n);case 6:if(a=e.sent,!t){e.next=10;break}return e.next=10,F(Y);case 10:200===a.status?(Q(n),s(!1)):(S.a.error({message:a.message}),b(!0));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],s(!0),b(!1),n=U>=M?U-M:0,e.next=6,P(V,Y,n);case 6:if(a=e.sent,!t){e.next=10;break}return e.next=10,F(Y);case 10:200===a.status?(Q(n),s(!1)):(S.a.error({message:a.message}),b(!0));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(B.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"Drawer__title",children:z(e.activity.name)}),e.activity.desc,Object(a.jsx)(k,{activity:e.activity,daily:e.dailies,float:!1})]}),closable:!0,visible:h,onClose:function(){return p(!1)},placement:"bottom",children:G>1?Object(a.jsxs)("div",{className:"Activity__fullDrawerButton",children:[Object(a.jsx)("div",{className:"Activity__drawerButton Activity__drawerActionButton",style:{fontSize:"5em"},id:Y+L+"_minus",onClick:X,children:Object(a.jsx)(A.a,{})}),Object(a.jsxs)("div",{className:"Activity__drawerButton",style:{fontSize:"2em"},children:[c?Object(a.jsx)(N.a,{spin:!0,style:{color:"#999"}}):Object(a.jsx)("span",{className:U<G?"":"gold",children:U}),Object(a.jsxs)("span",{className:"transparentWhite",children:["\xa0/ ",G]})]}),Object(a.jsx)("div",{className:"Activity__drawerButton Activity__drawerActionButton",style:{fontSize:"5em"},id:Y+L+"_plus",onClick:Z,children:Object(a.jsx)(E.a,{})})]}):J?Object(a.jsx)("div",{className:"Activity__fullDrawerButton Activity__drawerActionButton",style:{fontSize:"7em"},id:Y+L+"_check",onClick:X,children:Object(a.jsx)(T.a,{})}):Object(a.jsx)("div",{className:"Activity__fullDrawerButton Activity__drawerActionButton",style:{fontSize:"7em"},id:Y+L+"_check",onClick:Z,children:Object(a.jsx)(D.a,{})})}),Object(a.jsx)(R,{condition:!g,wrap:function(t){return Object(a.jsx)(C.a,{placement:"top",title:Object(a.jsxs)(a.Fragment,{children:[e.activity.desc," ",Object(a.jsx)(k,{activity:e.activity,daily:e.dailies})]}),children:t})},children:Object(a.jsxs)("div",{className:"Activity__item",children:[H&&!J&&Object(a.jsx)("div",{className:"Activity__optional"}),J&&Object(a.jsx)("div",{className:"Activity__doneContainer",children:Object(a.jsx)("div",{className:"Activity__done",children:Object(a.jsx)(D.a,{})})}),g?0===L?Object(a.jsx)("div",{className:"Activity__actionContainer",onClick:function(){return p(!0)}}):1===L&&Object(a.jsx)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:["Update this task from"," ",Object(a.jsx)("b",{children:Object(a.jsx)("u",{children:"yesterday"})}),"?"]}),placement:"bottom",onConfirm:function(){return p(!0)},okText:"Yes",cancelText:"No",children:Object(a.jsx)("div",{className:"Activity__actionContainer"})}):Object(a.jsx)("div",{className:"Activity__actionContainer ".concat(0===G?"":"Activity__actionContainerHover"),onMouseOver:function(){L<2&&(G>1?(document.getElementById(Y+L+"_minus").style.display="block",document.getElementById(Y+L+"_plus").style.display="block"):document.getElementById(Y+L+"_check").style.display="block")},onMouseLeave:function(){L<2&&(G>1?(document.getElementById(Y+L+"_minus").style.display="none",document.getElementById(Y+L+"_plus").style.display="none"):document.getElementById(Y+L+"_check").style.display="none")},children:G>1?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(a.Fragment,{children:[0===L?Object(a.jsx)("div",{className:"Activity__action",id:Y+L+"_minus",onClick:X,children:Object(a.jsx)(A.a,{})}):Object(a.jsx)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:["Update this task from"," ",Object(a.jsx)("b",{children:Object(a.jsx)("u",{children:"yesterday"})}),"?"]}),placement:"bottom",onConfirm:X,okText:"Yes",cancelText:"No",children:Object(a.jsx)("div",{className:"Activity__action",id:Y+L+"_minus",children:Object(a.jsx)(A.a,{})})}),0===L?Object(a.jsx)("div",{className:"Activity__action",id:Y+L+"_plus",onClick:Z,children:Object(a.jsx)(E.a,{})}):Object(a.jsx)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:["Update this task from"," ",Object(a.jsx)("b",{children:Object(a.jsx)("u",{children:"yesterday"})}),"?"]}),placement:"bottom",onConfirm:function(){return Z(!0)},okText:"Yes",cancelText:"No",children:Object(a.jsx)("div",{className:"Activity__action",id:Y+L+"_plus",children:Object(a.jsx)(E.a,{})})})]})}):J?Object(a.jsx)(a.Fragment,{children:0===L?Object(a.jsx)("div",{className:"Activity__action",id:Y+L+"_check",onClick:X,children:Object(a.jsx)(T.a,{})}):Object(a.jsx)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:["Update this task from"," ",Object(a.jsx)("b",{children:Object(a.jsx)("u",{children:"yesterday"})}),"?"]}),placement:"bottom",onConfirm:X,okText:"Yes",cancelText:"No",children:Object(a.jsx)("div",{className:"Activity__action",id:Y+L+"_check",children:Object(a.jsx)(T.a,{})})})}):Object(a.jsx)(a.Fragment,{children:0===L?Object(a.jsx)("div",{className:"Activity__action",id:Y+L+"_check",onClick:Z,children:Object(a.jsx)(D.a,{})}):Object(a.jsx)(I.a,{title:Object(a.jsxs)(a.Fragment,{children:["Update this task from"," ",Object(a.jsx)("b",{children:Object(a.jsx)("u",{children:"yesterday"})}),"?"]}),placement:"bottom",onConfirm:function(){return Z(!0)},okText:"Yes",cancelText:"No",children:Object(a.jsx)("div",{className:"Activity__action",id:Y+L+"_check",children:Object(a.jsx)(D.a,{})})})})}),Object(a.jsx)(O,{image:e.activity.icon}),Object(a.jsxs)("div",{className:"Activity__text",children:[l?Object(a.jsx)(T.a,{style:{color:"#C70039"}}):c?Object(a.jsxs)(a.Fragment,{children:[G>1?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{spin:!0,style:{color:"#999"}})," / ",G," "]}):Object(a.jsx)(N.a,{spin:!0,style:{color:"#999"}}),G>1&&e.activity.unit]}):Object(a.jsxs)(a.Fragment,{children:[G>1?"".concat(U," / ").concat(G," "):"".concat(e.activity.unit,"!"),G>1&&e.activity.unit]}),H&&Object(a.jsx)("div",{style:{fontStyle:"italic",fontSize:".7em"},children:Object(a.jsx)("i",{children:"optional"})})]})]})})]})}),V=(n(178),n(262)),Y=n.n(V),M=(n(304),n(178)),G=M().tz("Europe/Berlin").format("YYYY"),H=M().tz("Europe/Berlin").format("MM"),q=M().tz("Europe/Berlin").format("DD"),J=function(e){var t=parseInt(e,10),n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),r=t-3600*n-60*a;return n<10&&n>-10&&(n="0"+n),a<10&&a>-10&&(a="0"+a),r<10&&r>-10&&(r="0"+r),n+":"+a+":"+r},Z=function(){var e=Math.floor(Date.now()/1e3),t=Y()(G,H,q);return Math.floor(new Date(Date.UTC(t[0],t[1]-1,t[2],"00","00","00"))/1e3)-e-7200},X=function(){var e=Object(r.useState)(Z()),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){setTimeout((function(){c(Z())}),1e3)}),[n]),n<0?Object(a.jsx)("div",{className:n<7200?"countdown__alert":"",children:"00:00:00"}):n<18e3?Object(a.jsx)("div",{className:n<7200?"countdown__alert":"",children:J(n)}):"Today"},K=(n(305),function(){return Object(a.jsxs)("div",{className:"spinner",children:[Object(a.jsx)("img",{src:"https://routine-cvs.herokuapp.com/images/venja.svg",className:"loader",alt:"Loading"}),Object(a.jsxs)("div",{className:"spinner spinner__header",children:["venja",Object(a.jsx)("span",{style:{color:"#D68910"},children:".org"})]})]})}),W=(n(306),function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),i=Object(j.a)(s,2),o=i[0],l=i[1],b=Object(r.useState)(!0),m=Object(j.a)(b,2),O=m[0],p=m[1],v=Object(r.useRef)(2),x=Object(r.useRef)(0),g=Object(r.useRef)(null),w=Object(r.useRef)(!1),y=Object(r.useRef)(!1),_=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([f(t+1),h()]);case 3:n=e.sent,a=Object(j.a)(n,2),r=a[0],s=a[1],c(r),l(s),t+1>r.length&&(w.current=!0,g.current=x.current+1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:p(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),k=Object(r.useCallback)((function(e){e.preventDefault();var t=e.key.toLowerCase();if(!1===y.current){if(y.current=!0,"arrowdown"===t){if(g.current!==x.current-1){var n=x.current+1,a=document.getElementById("daily".concat(n)).getBoundingClientRect().top+window.scrollY;window.scrollTo({top:a,behavior:"smooth"})}if(!w.current){v.current++;var r=v.current;_(r)}}else if("arrowup"===t){if(x.current>0){var c=x.current-1,s=document.getElementById("daily".concat(c)).getBoundingClientRect().top+window.scrollY;window.scrollTo({top:s,behavior:"smooth"})}}else if("enter"===t){x.current=0;var i=document.getElementById("daily0").getBoundingClientRect().top+window.scrollY;window.scrollTo({top:i,behavior:"smooth"})}setTimeout((function(){y.current=!1}),500)}}),[]),A=Object(r.useCallback)((function(e){x.current=Math.round(window.scrollY/window.innerHeight),w.current||v.current===x.current+1&&(v.current=x.current+2,_(x.current+2))}),[]);Object(r.useEffect)((function(){_(v.current)}),[]),Object(r.useEffect)((function(){return document.addEventListener("keydown",k),document.addEventListener("scroll",A),function(){document.removeEventListener("keydown",k),document.removeEventListener("scroll",A)}}),[k,A]);for(var N=function(e){return o.map((function(t){return Object(a.jsx)(L,{activity:t,dailies:n[e],dayFromToday:e},t.name)}))},E=[],D=0;D<v.current;D++)E.push(Object(a.jsxs)("div",{className:"Dailies__full",id:"daily".concat(D),children:[Object(a.jsxs)("div",{className:"dailies__date",children:[0===D&&Object(a.jsx)(X,{}),1===D&&"Yesterday",D>1&&"".concat(n[D].day,".").concat(n[D].month,".").concat(n[D].year)]}),Object(a.jsx)("div",{className:"dailies__main",children:N(D)})]},"daily".concat(D)));return O?Object(a.jsx)(K,{}):E}),$=n(94),ee=n(16),te=n(95),ne=n.n(te),ae=new(function(){function e(){var t=this;Object(v.a)(this,e),this.token=null,this.refreshToken=localStorage.getItem("refreshToken")||null,this.login=function(e,n){t.token=e,t.refreshToken=n},this.logout=function(){localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.clear();var e={refreshToken:t.refreshToken};t.token=null,t.refreshToken=null,fetch("https://routine-cvs.herokuapp.com/logout",{method:"DELETE",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){if(204!==e.status)throw new Error("Error on logout!")})).catch((function(e){console.log(e)}))},this.getNewToken=function(){var e=localStorage.getItem("refreshToken");if(e)try{ne.a.decode(e,{complete:!0}),t.refreshToken=e}catch(a){a instanceof te.TokenExpiredError?(console.log("refreshtoken is expired",a),t.logout()):console.log("unknown error:",a)}if(null!==t.token)try{return ne.a.decode(t.token,{complete:!0}),t.token}catch(a){a instanceof te.TokenExpiredError?(console.log("token is expired",a),t.logout()):console.log("unknown error:",a)}if(t.refreshToken){var n={refreshToken:t.refreshToken};return fetch("https://routine-cvs.herokuapp.com/token",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){if(201!==e.status)throw t.logout(),new Error("Error when refreshing the token!");return e.json()})).then((function(e){if(localStorage.setItem("refreshToken",e.refreshToken),e.token)return t.login(e.token,e.refreshToken),t.token=e.token,e.token})).catch((function(e){console.log(e)}))}},Object(x.m)(this,{_token:x.n,refreshToken:x.n,login:x.f,logout:x.f,getNewToken:x.f})}return Object(ee.a)(e,[{key:"token",get:function(){return this._token},set:function(e){this._token=e}}]),e}()),re=new function e(){var t=this;Object(v.a)(this,e),this.userId=localStorage.getItem("userId")||null,this.userActivities=null,this.userName=null,this.picUrl=null,this.setUserId=function(e){t.userId=e},this.setUserActivities=function(e){t.userActivities=e},this.setUserName=function(e){t.userName=e},this.setPicUrl=function(e){t.picUrl=e},Object(x.m)(this,{userId:x.n,setUserId:x.f,userActivities:x.n,setUserActivities:x.f,userName:x.n,setUserName:x.f,picUrl:x.n,setPicUrl:x.f})},ce=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://routine-cvs.herokuapp.com/user",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.next=11,t.data[0];case 11:return n=e.sent,re.setUserActivities(n.activities),re.setUserName(n.name),re.setPicUrl(n.picurl),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://routine-cvs.herokuapp.com/activity/list",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=9;break}if(401!==t.status){e.next=8;break}throw new Error("Error! Unauthorized(401)");case 8:throw new Error("Error! Status ".concat(t.status));case 9:return e.next=11,t.data.map((function(e){return e}));case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=n(540),oe=(n(417),Object(o.a)((function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),i=Object(j.a)(s,2),o=i[0],l=i[1],b=Object(r.useState)([]),m=Object(j.a)(b,2),f=m[0],h=m[1],p=Object(r.useState)(!1),v=Object(j.a)(p,2),x=v[0],g=v[1],w=Object(r.useState)(null),y=Object(j.a)(w,2),_=y[0],k=y[1],A=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([ce(),se()]);case 3:return t=e.sent,n=Object(j.a)(t,2),a=n[0],r=n[1],e.next=9,a.activities.map((function(e){return e.name}));case 9:s=e.sent,i=r.filter((function(e){return!s.includes(e.name)})),l(a.activities),h(i),c(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){A()}),[]);var N=function(e){g(!0),k(e)},E=function(e){var t=re.userActivities,n=t.find((function(e){return e.id===_.id}));n&&(n[e.target.name]=e.target.value),l(t),console.log(re.userActivities)},D=o.map((function(e,t){return Object(a.jsxs)("div",{className:"Profil__activities",onClick:function(){return N(e)},children:[Object(a.jsx)(O,{image:e.icon}),e.name]},"admin_activities_".concat(t))})),T=f.map((function(e,t){return Object(a.jsx)("div",{className:"Profil__activities",onClick:function(){return N(e)},children:Object(a.jsx)(O,{image:e.icon})},"add_activities_".concat(t))}));return n?Object(a.jsx)(K,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(B.a,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"Drawer__title",children:z(null===_||void 0===_?void 0:_.name)}),null===_||void 0===_?void 0:_.desc]}),closable:!0,visible:x,onClose:function(){g(!1),k(null)},placement:"bottom",children:null!==_&&Object(a.jsxs)("div",{className:"Drawer",children:[Object(a.jsxs)("div",{className:"Drawer__main",children:[Object(a.jsx)(O,{image:_.icon,invert:!1,big:!0}),Object(a.jsxs)("div",{className:"Drawer__editableContainer",children:[Object(a.jsxs)("div",{className:"Drawer__editable",children:[Object(a.jsx)("span",{className:"Drawer__editableTitle",children:"Name"}),Object(a.jsx)("input",{className:"Drawer__inputText",type:"text",id:"name",name:"name",defaultValue:_.name,min:"1",onChange:E})]}),Object(a.jsxs)("div",{className:"Drawer__editable",children:[Object(a.jsx)("span",{className:"Drawer__editableTitle",children:"Description"}),Object(a.jsx)("input",{className:"Drawer__inputText",type:"text",id:"desc",name:"desc",defaultValue:_.desc,min:"1",onChange:E})]}),Object(a.jsxs)("div",{className:"Drawer__editable",children:[Object(a.jsx)("span",{className:"Drawer__editableTitle",children:"Goal"}),Object(a.jsx)("input",{className:"Drawer__inputNumber",type:"number",id:"goal",name:"goal",defaultValue:_.goal,min:"1",onChange:E})]}),Object(a.jsxs)("div",{className:"Drawer__editable",children:[Object(a.jsx)("span",{className:"Drawer__editableTitle",children:"Increment"}),Object(a.jsx)("input",{className:"Drawer__inputNumber",type:"number",id:"increment",name:"increment",defaultValue:_.increment,min:"1",onChange:E})]}),Object(a.jsxs)("div",{className:"Drawer__editable",children:[Object(a.jsx)("span",{className:"Drawer__editableTitle",children:"Sorting"}),Object(a.jsx)("input",{className:"Drawer__inputNumber",type:"number",id:"sorting",name:"sorting",defaultValue:_.sorting,min:"1",onChange:E})]}),Object(a.jsxs)("div",{className:"Drawer__editable",children:[Object(a.jsx)("span",{className:"Drawer__editableTitle",children:"Unit"}),Object(a.jsx)("input",{className:"Drawer__inputText",type:"text",id:"unit",name:"unit",defaultValue:_.unit,min:"1",onChange:E})]}),Object(a.jsxs)("div",{className:"Drawer__editable",children:[Object(a.jsx)("span",{className:"Drawer__editableTitle",children:"Optional"}),_.optional?"Yes":"No"]}),Object(a.jsxs)("div",{className:"Drawer__editable",children:[Object(a.jsx)("span",{className:"Drawer__editableTitle",children:"Daily"}),_.daily?"Yes":"No"]})]})]}),Object(a.jsx)("div",{className:"Drawer__buttonContainer",children:Object(a.jsx)($.a,{icon:Object(a.jsx)(ie.a,{}),onClick:function(){return e=_.id,void console.log("Delete this",e);var e},type:"primary",danger:!0,disabled:!0,children:"Delete"})})]})}),Object(a.jsxs)("div",{className:"Profil__full",children:[Object(a.jsx)("div",{className:"Profil__avatar",style:{backgroundImage:"url(".concat(re.picUrl,")"),backgroundSize:"cover"}}),Object(a.jsxs)("div",{className:"Profil__main",children:[Object(a.jsxs)("div",{children:["hello ",re.userName,","]}),Object(a.jsx)("div",{className:"Profil__logout",onClick:function(){return ae.logout()},children:"(logout)"}),Object(a.jsxs)("div",{className:"Profil__container",children:[Object(a.jsx)("div",{className:"Profil__containerTitle",children:"Manage activity"}),Object(a.jsx)("div",{children:D})]}),Object(a.jsxs)("div",{className:"Profil__container",children:[Object(a.jsx)("div",{className:"Profil__containerTitle",children:"Add activity"}),Object(a.jsx)("div",{children:T})]})]})]})]})}))),le=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"https://routine-cvs.herokuapp.com/stats/",method:"GET"});case 2:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=9;break}if(401!==n.status){e.next=8;break}throw new Error("Error! Unauthorized");case 8:throw new Error("Error! Status ".concat(n.status));case 9:return e.next=11,n.data;case 11:return a=e.sent,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=n(267),de=(n(523),Object(o.a)((function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),i=Object(j.a)(s,2),o=i[0],l=i[1],b=Object(r.useRef)([0,1,2,3,4,5,6,7,8,9]),m=[],f=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le();case 3:t=e.sent,n=t.map((function(e){return"".concat(e.day,".").concat(e.month,".").concat(e.year)})),l(n),re.userActivities.map((function(e){e.name;m.push(e.name)})),console.log(b.current),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:c(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){f()}),[]);var h={labels:o,datasets:[{label:"Run",backgroundColor:"rgba(214, 137, 16, 0.95)",borderColor:"rgba(214, 137, 16, 1)",data:b.current}]};return n?Object(a.jsx)(K,{}):Object(a.jsxs)("div",{className:"Stats__full",children:[Object(a.jsx)("div",{className:"Stats__title",children:"Statistics"}),Object(a.jsx)("div",{className:"Stats__main",children:Object(a.jsx)(ue.a,{data:h})})]})}))),je=n(531),be=n(532),me=n(534),fe=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,r,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:t,password:n},e.next=3,fetch("https://routine-cvs.herokuapp.com/login",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 3:if(!(200!==(r=e.sent).status&201!==r.status)){e.next=10;break}return e.next=7,r.json();case 7:throw c=e.sent,s=c.error,new Error(s);case 10:return e.next=12,r.json();case 12:return i=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=n(541),Oe=n(542),pe=n(543),ve=n(273),xe=n(274),ge=(n(524),function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(!1),i=Object(j.a)(s,2),o=i[0],l=i[1],b=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),a=t.email,r=t.password,c=t.remember,t.username,n){e.next=8;break}e.next=22;break;case 8:return e.prev=8,e.next=11,fe(a,r);case 11:s=e.sent,!0===c&&(localStorage.setItem("refreshToken",s.refreshToken),localStorage.setItem("userId",s.userId)),ae.login(s.token,s.refreshToken),re.setUserId(s.userId),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),S.a.warn({message:e.t0.message}),console.log(e.t0);case 21:l(!1);case 22:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"login__full",children:[Object(a.jsxs)("div",{className:"login__header",children:[Object(a.jsx)("img",{className:"login__logo",src:"https://routine-cvs.herokuapp.com/images/venja.svg",alt:"logo"}),"Venja.org"]}),Object(a.jsxs)(je.a,{name:"normal_login",className:"login__form",initialValues:{remember:!0},onFinish:b,children:[Object(a.jsx)(je.a.Item,{name:"username",hidden:n,rules:[{required:!n,message:"How should we call you?"}],children:Object(a.jsx)(be.a,{prefix:Object(a.jsx)(he.a,{className:"site-form-item-icon"}),placeholder:"Name"})}),Object(a.jsx)(je.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please input your Email!"}],children:Object(a.jsx)(be.a,{prefix:Object(a.jsx)(Oe.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(a.jsx)(je.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(a.jsx)(be.a.Password,{prefix:Object(a.jsx)(pe.a,{className:"site-form-item-icon"}),placeholder:"input Password",iconRender:function(e){return e?Object(a.jsx)(ve.a,{}):Object(a.jsx)(xe.a,{})}})}),Object(a.jsxs)(je.a.Item,{hidden:!n,children:[Object(a.jsx)(je.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(a.jsx)(me.a,{children:Object(a.jsx)("span",{className:"login__remember",children:"Remember me"})})}),Object(a.jsx)("a",{className:"login__formforgot",href:"/#",children:"Recover password"})]}),Object(a.jsxs)(je.a.Item,{children:[Object(a.jsx)($.a,{type:"primary",htmlType:"submit",className:"login__formbutton",children:o?Object(a.jsx)(N.a,{spin:!0}):n?"Log in":"Create account"}),Object(a.jsxs)("div",{className:"login__switchmode",children:["Or"," ",Object(a.jsx)("span",{className:"login__switchmodetext",onClick:function(){c(!n)},children:n?"register now!":"log into your account!"})]})]})]})]})}),we=new function e(){var t=this;Object(v.a)(this,e),this.showPage="daily",this.setShowPage=function(e){t.showPage=e},Object(x.m)(this,{showPage:x.n,setShowPage:x.f})},ye=Object(o.a)((function(e){return Object(a.jsx)(R,{condition:"profil"!==we.showPage,wrap:function(e){return Object(a.jsx)(C.a,{placement:"left",title:"Edit profil",children:e})},children:"profil"===we.showPage?"":re.picUrl?Object(a.jsx)("div",{className:"FloatButton__float",style:{backgroundImage:"url(".concat(re.picUrl,")"),backgroundSize:"cover"},onClick:function(){return we.setShowPage("profil")}}):Object(a.jsx)("div",{className:"FloatButton__float FloatButton__background",onClick:function(){return we.setShowPage("profil")},children:Object(a.jsx)(he.a,{className:"FloatButton__icon"})})})})),_e=function(){return Object(a.jsx)(C.a,{placement:"left",title:"Add sporatical task",children:Object(a.jsx)("div",{className:"FloatButton__float  FloatButton__background",children:Object(a.jsx)(E.a,{className:"FloatButton__icon"})})})},ke=n(544),Ae=(n(525),n.p+"static/media/travel.bf74e362.png"),Ne=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(!1),i=Object(j.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)(!1),d=Object(j.a)(u,2),b=d[0],m=d[1],f=Object(r.useState)("Freeze your streak?"),h=Object(j.a)(f,2),O=h[0],p=h[1],v=function(e){"travel"===e?l(!o):"sick"===e&&m(!b)};return Object(r.useEffect)((function(){n?setTimeout((function(){document.getElementById("ObstacleButton__actionContainer").style.display="inline-block"}),200):document.getElementById("ObstacleButton__actionContainer").style.display="none"}),[n]),Object(a.jsx)(C.a,{placement:"left",title:O,children:Object(a.jsxs)("div",{className:n?"ObstacleButton__open ObstacleButton__float":"ObstacleButton__close ObstacleButton__float",children:[(o||b)&&Object(a.jsx)("div",{className:"ObstacleButton__snowflakeContainer",children:Object(a.jsx)("img",{src:Q,alt:"travel",className:"ObstacleButton__snowflake"})}),Object(a.jsxs)("div",{id:"ObstacleButton__actionContainer",children:[Object(a.jsx)("div",{className:"ObstacleButton__element ".concat(!o&&"ObstacleButton__elementGray"),onMouseOver:function(){p("Out of town?")},onClick:function(){v("travel")},children:Object(a.jsx)("img",{src:Ae,alt:"travel",className:"ObstacleButton__logo"})}),Object(a.jsx)("div",{className:"ObstacleButton__element ".concat(!b&&"ObstacleButton__elementGray"),onMouseOver:function(){p("Not feeling well?")},onClick:function(){v("sick")},children:Object(a.jsx)("img",{src:"data:image/png;base64,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",alt:"sick",className:"ObstacleButton__logo"})}),Object(a.jsx)("div",{className:"ObstacleButton__separator",children:"|"})]}),Object(a.jsx)(ke.a,{className:"FloatButton__icon",onClick:function(){c(!n)},onMouseOver:function(){p("Freeze your streak?")}})]})})},Ee=(n(526),Object(o.a)((function(){return Object(a.jsx)(R,{condition:"stats"!==we.showPage,wrap:function(e){return Object(a.jsx)(C.a,{placement:"left",title:"Show statistics",children:e})},children:"stats"===we.showPage?"":Object(a.jsx)("div",{className:"FloatButton__float  FloatButton__background",onClick:function(){return we.setShowPage("stats")},children:Object(a.jsx)("img",{className:"StatsButton__logo",src:"https://routine-cvs.herokuapp.com/images/stats.svg",alt:"stats"})})})}))),De=Object(o.a)((function(){return"daily"!==we.showPage&&Object(a.jsx)("div",{className:"FloatButton__float",onClick:function(){return we.setShowPage("daily")},children:Object(a.jsx)(T.a,{className:"FloatButton__close"})})})),Te=(n(527),function(e){return Object(r.useEffect)((function(){ce()}),[]),Object(a.jsxs)("div",{className:"Menu__floating",children:[Object(a.jsx)(De,{}),Object(a.jsx)(ye,{}),Object(a.jsx)(Ee,{}),Object(a.jsx)(Ne,{}),Object(a.jsx)(_e,{})]})});m.a.interceptors.request.use(function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!ae.token){e.next=7;break}return e.next=4,ae.token;case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,ae.getNewToken();case 9:e.t0=e.sent;case 10:(n=e.t0)&&(t.headers=Object.assign({Authorization:"Bearer ".concat(n),"Content-Type":"application/json"})),e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),console.log(e.t1);case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log("Interceptor Error",e),Promise.reject(e)}));n(528);var Se=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};window.addEventListener("resize",Se);var Be=Object(o.a)((function(){return Object(r.useEffect)((function(){ae.refreshToken&&function(){try{ae.getNewToken()}catch(e){console.log(e)}}(),ce(),Se()}),[]),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("header",{className:"App__header",children:ae.refreshToken?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Te,{}),Object(a.jsxs)("div",{className:"App__main",children:["daily"===we.showPage&&Object(a.jsx)(W,{}),"profil"===we.showPage&&Object(a.jsx)(oe,{}),"stats"===we.showPage&&Object(a.jsx)(de,{})]})]}):Object(a.jsx)(ge,{})})})}));i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Be,{})}),document.getElementById("root"))}},[[529,1,2]]]);
//# sourceMappingURL=main.86b982e0.chunk.js.map