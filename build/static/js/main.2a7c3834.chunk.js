(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a(0),s=a.n(n),r=a(17),i=a.n(r),u=(a(81),a(82),a(10)),o=a.n(u),l=a(18),d=a(21),p=a(24),b=a.n(p),j=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({url:"https://routine-cvs.herokuapp.com/"+"dailies/".concat(t),method:"GET"});case 2:if(!(200!==(a=e.sent).status&201!==a.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,a.data;case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({url:"https://routine-cvs.herokuapp.com/activity",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,t.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=(a(100),a.p+"static/media/teeth.1aa6b881.svg"),h=a.p+"static/media/guitar.c3922c9c.svg",f=a.p+"static/media/producing.a9835c6a.svg",O=a.p+"static/media/trumpet.a799638f.svg",g=a.p+"static/media/piano.fa43c86a.svg",x=a.p+"static/media/bass.35a36137.svg",y=a.p+"static/media/dutch.0d45338e.svg",k=a.p+"static/media/javascript.79934a25.svg",_=a.p+"static/media/situps.260199dc.svg",w=a.p+"static/media/pushups.82e7b7a9.svg",E=a.p+"static/media/pullups.2353a6a1.svg",N=a.p+"static/media/code.2aff3c3a.svg",S=a.p+"static/media/run.eee4c3df.svg",F=a.p+"static/media/stretch.22bae108.svg",C=a.p+"static/media/photo.8d6ce4c2.svg",B=a.p+"static/media/water.a1b4f75b.svg",I=a.p+"static/media/climb.936e7285.svg",M=function(e){var t="";switch(e.activity.activity){case"teeth":t=m;break;case"guitar":t=h;break;case"bass":t=x;break;case"trumpet":t=O;break;case"piano":t=g;break;case"dutch":t=y;break;case"javascript":t=k;break;case"producing":t=f;break;case"situps":t=_;break;case"pushups":t=w;break;case"pullups":t=E;break;case"code":t=N;break;case"run":t=S;break;case"stretch":t=F;break;case"photo":t=C;break;case"water":t=B;break;case"climb":t=I;break;default:t=null}return Object(c.jsx)("div",{children:Object(c.jsx)("img",{className:"logo",src:t,alt:e.activity.activity})})},D=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,c,n,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,a=t.getFullYear(),c=t.getMonth()+1,n=t.getDate(),e.next=6,b()({url:"https://routine-cvs.herokuapp.com/"+"streak/".concat(a,"/").concat(c,"/").concat(n),method:"GET"});case 6:if(!(200!==(s=e.sent).status&201!==s.status)){e.next=9;break}throw new Error("Error!");case 9:return e.next=11,s.data[0];case 11:return r=e.sent,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=(a(101),function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)(!0),u=Object(d.a)(i,2),p=u[0],b=u[1],j=e.activity.activity,v=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:t=e.sent,r(t),b(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[]);var m;return p?Object(c.jsx)("div",{className:"Streak__Main",children:"?"}):s[j]?Object(c.jsx)("div",{className:"Streak__Main",style:{backgroundColor:"rgba(214, 137, 16, ".concat((m=s[j],m<2?.1:m<3?.2:m<5?.3:m<8?.4:m<12?.5:m<20?.55:m<30?.6:m<40?.65:m<50?.7:m<60?.75:m<70?.8:m<80?.85:m<99?.9:1),")")},children:s[j]>999?"999+":s[j]}):Object(c.jsx)(c.Fragment,{})}),A=a(111),L=a(112),P=a(113),G=a(75),H=a(73),J=a(110),Y=a(60),z=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var c,n,s,r,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Date,n=c.getFullYear(),s=c.getMonth()+1,r=c.getDate(),i=Object(Y.a)({},t,a),e.prev=5,e.next=8,b()({url:"https://routine-cvs.herokuapp.com/"+"daily/".concat(n,"/").concat(s,"/").concat(r),method:"PATCH",data:i,timeout:1e3});case 8:if(200===(u=e.sent).status||201===u.status){e.next=11;break}throw new Error("Error!");case 11:return e.abrupt("return",{status:u.status,message:u.error});case 14:return e.prev=14,e.t0=e.catch(5),console.log(e.t0.message),e.abrupt("return",{status:500,message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,a){return e.apply(this,arguments)}}(),q=(a(102),function(e){var t=Object(n.useState)(e.dailies[e.activity.activity]?e.dailies[e.activity.activity]:0),a=Object(d.a)(t,2),s=a[0],r=a[1],i=e.activity.activity,u=e.activity.increment,p=e.activity.goal,b=s>=p&&(!!p||s>p),j=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s+u,e.next=3,z(i,t);case 3:200===(a=e.sent).status?r(t):H.a.error({message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s>=u?s-u:0,e.next=3,z(i,t);case 3:200===(a=e.sent).status?r(t):H.a.error({message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(J.a,{placement:"top",title:Object(c.jsxs)(c.Fragment,{children:[e.activity.name," ",Object(c.jsx)(T,{activity:e.activity})]}),children:Object(c.jsxs)("div",{className:"daily__item",children:[!p&&!b&&Object(c.jsx)("div",{className:"daily__optional"}),b&&Object(c.jsx)("div",{className:"daily__doneContainer",children:Object(c.jsx)("div",{className:"daily__done",children:Object(c.jsx)(A.a,{})})}),Object(c.jsx)("div",{className:"daily__actionContainer ".concat(0===p?"":"daily__actionContainerHover"),onMouseOver:function(){p>1?(document.getElementById(i+"_minus").style.display="block",document.getElementById(i+"_plus").style.display="block"):document.getElementById(i+"_check").style.display="block"},onMouseLeave:function(){p>1?(document.getElementById(i+"_minus").style.display="none",document.getElementById(i+"_plus").style.display="none"):document.getElementById(i+"_check").style.display="none"},children:p>1?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"daily__action",id:i+"_minus",onClick:v,children:Object(c.jsx)(L.a,{})}),Object(c.jsx)("div",{className:"daily__action",id:i+"_plus",onClick:j,children:Object(c.jsx)(P.a,{})})]}):b?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"daily__action",id:i+"_check",onClick:v,children:Object(c.jsx)(G.a,{})})}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"daily__action",id:i+"_check",onClick:j,children:Object(c.jsx)(A.a,{})})})}),Object(c.jsx)(M,{activity:e.activity}),Object(c.jsxs)("div",{className:"daily__text }",children:[p>1?"".concat(s," / ").concat(p," "):"".concat(e.activity.unit,"!"),p>1&&e.activity.unit,0===p&&Object(c.jsx)("div",{style:{fontStyle:"italic",fontSize:".7em"},children:Object(c.jsx)("i",{children:"optional"})})]})]})})}),K=(a(105),function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(3),i=Object(d.a)(r,2),u=i[0],p=(i[1],Object(n.useState)([])),b=Object(d.a)(p,2),m=b[0],h=b[1],f=Object(n.useState)(!0),O=Object(d.a)(f,2),g=O[0],x=O[1],y=Object(n.useState)(!1),k=Object(d.a)(y,2),_=k[0],w=k[1],E=Object(n.useState)(),N=Object(d.a)(E,2),S=N[0],F=N[1],C=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([j(u),v()]);case 3:t=e.sent,a=Object(d.a)(t,2),c=a[0],n=a[1],s(c),h(n),c.length||w(!0),c.length<u&&F(c.length),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.message);case 18:x(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){C()}),[]);for(var B=function(e){return m.map((function(t){return Object(c.jsx)(q,{activity:t,dailies:a[e]},t.activity)}))},I=[],M=S>u?u:S||u,D=0;D<M;D++)I.push(Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"Dailies__full",children:[Object(c.jsx)("div",{className:"dailies__date",children:a.length>0?Object(c.jsxs)("div",{children:[a[D].day,".",a[D].month,".",a[D].year]}):""}),Object(c.jsx)("div",{className:"dailies__main",children:B(D)})]})}));return g?Object(c.jsx)("div",{className:"spinner",children:Object(c.jsx)("img",{src:"https://avatars0.githubusercontent.com/u/12551446",className:"loader",alt:"Loading"})}):_?Object(c.jsx)("div",{children:"Error! Something terrible must have happened."}):Object(c.jsx)(c.Fragment,{children:I})});var Q=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("header",{className:"App__header",children:Object(c.jsx)("div",{className:"App__day",children:Object(c.jsx)(K,{})})})})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,114)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(Q,{})}),document.getElementById("root")),R()},81:function(e,t,a){},82:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.2a7c3834.chunk.js.map